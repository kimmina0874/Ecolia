<!DOCTYPE html>
<html>
<head>
	<title>Ecolia í–‰ë™ ë¡œê·¸ & AI ìƒíƒœ</title>
	<style>
		body {
			font-family: monospace;
			background: #1e1e1e;
			color: #eee;
			padding: 20px;
		}
		h2 {
			margin-top: 30px;
		}
		#log, #agents {
			border: 1px solid #444;
			padding: 10px;
			margin-top: 10px;
			background: #2e2e2e;
		}
		#log {
			white-space: pre-line;
			height: 40vh;
			overflow-y: scroll;
		}
		#agents {
			white-space: pre-wrap;
		}
		.agent {
			padding: 5px 0;
			border-bottom: 1px dashed #555;
		}
	</style>
</head>
<body>
	<h1>ğŸŒ Ecolia ì„¸ê³„ ì‹œë®¬ë ˆì´ì…˜</h1>

	<h2>ğŸ“œ ì‹¤ì‹œê°„ í–‰ë™ ë¡œê·¸</h2>
	<div id="log">[Logs loading...]</div>

	<h2>ğŸ§ AI ìƒíƒœ ëª¨ë‹ˆí„°ë§</h2>
	<div id="agents">[Agent info loading...]</div>

	<script>
		const logBox = document.getElementById("log");
		const agentsBox = document.getElementById("agents");

		async function fetchLogs() {
			const res = await fetch("/api/logs");
			const data = await res.json();
			logBox.innerText = data.logs.join("\\n");
			logBox.scrollTop = logBox.scrollHeight;
		}

		async function fetchAgents() {
			const res = await fetch("/api/agents");
			const data = await res.json();
			const html = data.agents.map(agent => `
				<div class="agent">
					<strong>${agent.name}</strong> (${agent.age}ì„¸)<br>
					ğŸ½ï¸ ë°°ê³ í””: ${agent.hunger} | ğŸ’¤ ìˆ˜ë©´: ${agent.sleepiness || 0}<br>
					ğŸ§  í˜„ì¬ í–‰ë™: <strong>${agent.task}</strong><br>
					ğŸ“¦ ì¸ë²¤í† ë¦¬: ${Object.entries(agent.inventory).map(([k,v]) => `${k}: ${v}`).join(', ')}
				</div>
			`).join("");
			agentsBox.innerHTML = html;
		}

		setInterval(fetchLogs, 1000);
		setInterval(fetchAgents, 1500);
	</script>
</body>
</html>
